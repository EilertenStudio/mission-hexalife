[tools]
# -----------------------------------------------------------------------------
"aqua:godotengine/godot" = "4.5"

# -----------------------------------------------------------------------------
[tasks."setup"]
description = "Setup project workspace"
run = "mise i"

[tasks."build"]
description = "Build project artifacts"
run = [
  "mise exec -- godot --editor --export-debug Web {{cwd}}/services/game/build/engine/next/index.html"
]

#[tasks."deploy"]
#description = "Build project artifacts"
#run = [
#  "cp -r {{cwd}}/services/game/build/engine/next {{cwd}}/services/website/public/blob/game/next/index.html"
#]

# -----------------------------------------------------------------------------
[tasks."editor:start"]
description = "Run engine editor"
run = "mise exec -- godot --editor"


# -----------------------------------------------------------------------------
[tasks.'github:workflow']
description = "Access to GitHub Actions workflow of the package"
dir = "{{cwd}}"
run = [
  'act -W .github/workflows/mission-hexalife-game.yml {{arg(var=true, default="")}}'
]

[tasks.'github:workflow:validate']
description = "Validate GitHub Actions workflow of the package"
depends = [
  'github:workflow --dryrun'
]
